(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[930],{5710:(t,e,s)=>{Promise.resolve().then(s.bind(s,2813))},2813:(t,e,s)=>{"use strict";s.d(e,{ImageViewer:()=>tU});var i,a,n,l,r,o,h,d,c,m,u,g,f,p,b,v,w,_,x,y,E,S,j,z,N=s(5155),Y=s(2115);let X=()=>{let[t,e]=(0,Y.useState)(!1);return(0,Y.useEffect)(()=>{let t=()=>{e(window.innerWidth<=768)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),t};var D=s(1160),k=Object.defineProperty,$=(t,e,s)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,O=(t,e,s)=>($(t,"symbol"!=typeof e?e+"":e,s),s),L=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)},C=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},I=(t,e,s)=>(L(t,e,"access private method"),s);let M=t=>document.contains(H(t)),T=t=>{if(!t)return!1;try{let{constructor:e}=t,{prototype:s}=e,{hasOwnProperty:i}=Object.prototype;return e&&s&&i.call(s,"isPrototypeOf")}catch{return!1}},R=t=>"function"==typeof t,W=t=>!isNaN(Number(t)),B=t=>null==t,H=t=>t instanceof HTMLElement?t:document.querySelector(t),P=(t,e)=>e?t.closest(`.${e}`):null,F=t=>{let e="touches"in t?t.touches[0]:t;return{clientX:e.clientX,clientY:e.clientY}},V=t=>({clientX:[...t].map(t=>t.clientX).reduce((t,e)=>t+e)/t.length,clientY:[...t].map(t=>t.clientY).reduce((t,e)=>t+e)/t.length}),A=t=>{let{width:e,height:s,top:i,left:a,bottom:n}=t.getBoundingClientRect();return{width:e,height:s,top:i,left:a,bottom:n}},q=t=>t.length>=2?Math.hypot(t[0].clientX-t[1].clientX,t[0].clientY-t[1].clientY):0,J=(t,e)=>{for(let[s,i]of Object.entries(e))"string"==typeof i&&t.style.setProperty(s,i)},Z=(t,e)=>{for(let[s,i]of Object.entries(e))t.setAttribute(s,i)},U=(t,e)=>{for(let[s,i]of Object.entries(e))t[s]=i},G=(t,e,s)=>Math.min(Math.max(t,e),s),K=t=>{let e=+(Math.round(+(t+"e+2"))+"e-2");return isNaN(e)?0:e},Q=t=>{throw Error(t)},tt=t=>console.warn(t),te=(t="div",e,s,i)=>{let a=document.createElement(t);return e&&a.classList.add(...e.split(" ")),s&&Z(a,s),i&&(a.innerHTML=i),a},ts="zoomist",ti=`${ts}-container`,ta=`${ts}-wrapper`,tn=`${ts}-image`,tl=`${ts}-not-draggable`,tr=`${ts}-not-wheelable`,to=`${ts}-slider`,th=`${ts}-slider-wrapper`,td=`${ts}-slider-bar`,tc=`${ts}-slider-button`,tm=`${ts}-zoomer`,tu=`${ts}-zoomer-button`,tg=`${ts}-zoomer-icon`,tf=`${ts}-zoomer-in`,tp=`${ts}-zoomer-out`,tb=`${ts}-zoomer-reset`,tv=`${ts}-zoomer-disabled`,tw={tabindex:"0",role:"slider","aria-label":"slider for zoomist","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-disabled":"false"},t_={tabindex:"0",role:"button",type:"button","aria-disabled":"false"},tx={...t_,"aria-label":"button for zoom in zoomist"},ty={...t_,"aria-label":"button for zoom out zoomist"},tE={...t_,"aria-label":"button for reset zoomist scale"},tS="u">typeof window&&"u">typeof window.document&&"ontouchstart"in window,tj=tS?"touchstart":"mousedown",tz=tS?"touchmove":"mousemove",tN=tS?"touchend":"mouseup",tY=["left","right","center"],tX=["top","bottom","center"],tD="--scale",tk="--translate-x",t$="--translate-y",tO={draggable:!0,wheelable:!0,pinchable:!0,bounds:!0,zoomRatio:.1,maxScale:10,minScale:1,initScale:null,dragReleaseOnBounds:!1,wheelReleaseOnMinMax:!1,disableDraggingClass:tl,disableWheelingClass:tr},tL={el:null,direction:"horizontal"},tC={el:`.${to}`},tI={el:null,inEl:null,outEl:null,resetEl:null,disabledClass:tv},tM={el:`.${tm}`,inEl:`.${tf}`,outEl:`.${tp}`,resetEl:`.${tb}`},tT={ready:null,reset:null,resize:null,beforeDestroy:null,destroy:null,beforeUpdate:null,update:null,zoom:null,wheel:null,dragStart:null,drag:null,dragEnd:null,pinchStart:null,pinch:null,pinchEnd:null,slideStart:null,slide:null,slideEnd:null},tR={slider:null,zoomer:null},tW=`
<svg viewBox="0 0 12 12" class="${tg}">
  <polygon points="12,5.5 6.5,5.5 6.5,0 5.5,0 5.5,5.5 0,5.5 0,6.5 5.5,6.5 5.5,12 6.5,12 6.5,6.5 12,6.5 "/>
</svg>
`,tB=`
<svg viewBox="0 0 12 12" class="${tg}">
  <rect y="5.5" width="12" height="1"/>
</svg>
`,tH=`
<svg viewBox="0 0 12 12" class="${tg}">
  <path d="m7.45,1.27l.35-.22c.26-.17.34-.52.17-.78-.17-.27-.52-.34-.78-.17l-1.54.99-.19.13-.11.46,1.12,1.75c.11.17.29.26.48.26.1,0,.21-.03.31-.09.26-.17.34-.52.17-.78l-.29-.46c1.85.5,3.22,2.17,3.22,4.18,0,2.39-1.95,4.34-4.34,4.34S1.66,8.92,1.66,6.52c0-1.15.44-2.23,1.25-3.05.22-.22.22-.58,0-.8-.22-.22-.58-.22-.8,0-1.02,1.03-1.58,2.4-1.58,3.85,0,3.02,2.46,5.48,5.48,5.48s5.48-2.46,5.48-5.48c0-2.51-1.71-4.62-4.02-5.26Z"/>
</svg>
`,{defineProperty:tP}=Object;class tF{constructor(t,e){C(this,i),C(this,n),C(this,r),C(this,h),C(this,c),C(this,u),C(this,f),C(this,b),C(this,w),C(this,x),C(this,E),C(this,j),O(this,"element"),O(this,"options"),O(this,"wrapper"),O(this,"image"),O(this,"mounted"),O(this,"data"),O(this,"transform"),O(this,"states"),O(this,"controller"),O(this,"__events__"),O(this,"__modules__"),t||Q("The first argument is required."),M(t)||Q(`Element ${t} is not exist.`),this.element=H(t),this.options=Object.assign({},tO,T(e)&&e),this.init()}init(){let{element:t}=this,{options:{bounds:e,minScale:s,maxScale:n,initScale:l}}=this;if(t[ts])return;t[ts]=this;let r=t.querySelector(`.${ta}`),o=t.querySelector(`.${tn}`);return r?o?void(this.options.minScale=e&&s<1?1:s,this.options.maxScale=Math.max(n,s),this.options.initScale=G(l||s,s,n),this.wrapper=r,this.image=o,I(this,i,a).call(this)):tt(`${ts} needs a ".${tn}" element.`):tt(`${ts} needs a ".${ta}" element.`)}destroyModules(){let{slider:t,zoomer:e}=this.__modules__;t&&this.destroySlider(),e&&this.destroyZoomer()}destroySlider(){var t,e;let{__modules__:{slider:s}}=this;if(!s||!s.mounted)return;let{options:{el:i},controller:a}=s;i===`.${to}`?null==(t=s.sliderEl)||t.remove():null==(e=s.sliderTrack)||e.remove(),null==a||a.abort(),s.mounted=!1}destroyZoomer(){let{__modules__:{zoomer:t}}=this;if(!t||!t.mounted)return;let{options:{el:e,inEl:s,outEl:i,resetEl:a},controller:n,zoomerEl:l,zoomerInEl:r,zoomerOutEl:o,zoomerResetEl:h}=t,d=(t,e,s)=>{t===`.${e}`&&(null==s||s.remove())};[{target:e,className:tm,el:l},{target:s,className:tf,el:r},{target:i,className:tp,el:o},{target:a,className:tb,el:h}].forEach(t=>d(t.target,t.className,t.el)),null==n||n.abort(),t.mounted=!1}}i=new WeakSet,a=function(){let{element:t,image:e,options:s}=this,{draggable:i,pinchable:a}=s,{offsetWidth:r,offsetHeight:o}=t,{offsetWidth:h,offsetHeight:d}=e,{width:c,height:m}=A(e);if(!h||!d)return tt(`The width or height of ${tn} should not be 0.`);if(this.transform={scale:0,translateX:0,translateY:0},this.data={imageData:{originWidth:h,originHeight:d,width:c,height:m},containerData:{width:r,height:o}},tS&&(i||a)&&(this.data.touchData={hypot:0,startX:0,startY:0,prevX:0,prevY:0,imageTop:0,imageLeft:0,widthDiff:0,heightDiff:0}),!tS&&i&&(this.data.dragData={startX:0,startY:0}),this.__events__={...tT},s.on)for(let[t,e]of Object.entries(s.on))this.__events__[t]=[e];if(this.__modules__={...tR},s.slider){let t=!0===s.slider?tC:s.slider;this.__modules__.slider={options:Object.assign({},tL,t)}}if(s.zoomer){let t=!0===s.zoomer?tM:s.zoomer;this.__modules__.zoomer={options:Object.assign({},tI,t)}}this.controller=new AbortController,I(this,n,l).call(this)},n=new WeakSet,l=function(){if(this.mounted)return;let{element:t,image:e,options:{minScale:s,maxScale:i,initScale:a},__modules__:{slider:n,zoomer:l}}=this,h=this;J(e,{transform:`
        translate(var(${tk}, 0px), var(${t$}, 0px))
        scale(var(${tD}, 0))`}),tP(this.transform,"scale",{get:()=>h.transform.__scale__,set(t){let r=h.useFixedRatio(t);if(!(B(r)||h.transform.__scale__===r)){if(h.transform.__scale__=r,J(e,{[tD]:r.toString()}),U(h.data.imageData,{width:A(e).width,height:A(e).height}),n){let t=Math.round(100*h.getScaleRatio());n.value=t}if(l&&l.options.disabledClass){let{zoomerInEl:t,zoomerOutEl:e,zoomerResetEl:n,options:{disabledClass:o}}=l;t&&(t.classList[r===i?"add":"remove"](o),Z(t,{"aria-disabled":r===i?"true":"false"})),e&&(e.classList[r===s?"add":"remove"](o),Z(e,{"aria-disabled":r===s?"true":"false"})),n&&(n.classList[r===a?"add":"remove"](o),Z(n,{"aria-disabled":r===a?"true":"false"}))}}}}),tP(this.transform,"translateX",{get:()=>h.transform.__translateX__,set(t){let s=K(t);B(s)||h.transform.__translateX__===s||(h.transform.__translateX__=s,J(e,{[tk]:`${s}px`}))}}),tP(this.transform,"translateY",{get:()=>h.transform.__translateY__,set(t){let s=K(t);B(s)||h.transform.__translateY__===s||(h.transform.__translateY__=s,J(e,{[t$]:`${s}px`}))}}),I(this,r,o).call(this),I(this,b,v).call(this),U(this.transform,{scale:a,translateX:0,translateY:0}),t.classList.add(ti),this.mounted=!0,this.emit("ready",this)},r=new WeakSet,o=function(){let{wrapper:t,options:e,controller:{signal:s}}=this,{draggable:i,pinchable:a,wheelable:n}=e;this.states={},n&&(this.states.wheeling=!1,t.addEventListener("wheel",t=>I(this,h,d).call(this,t),{signal:s})),tS&&(i||a)&&(i&&(this.states.dragging=!1),a&&(this.states.pinching=!1),t.addEventListener("touchstart",t=>I(this,u,g).call(this,t),{signal:s})),!tS&&i&&(this.states.dragging=!1,t.addEventListener("mousedown",t=>I(this,c,m).call(this,t),{signal:s})),I(this,f,p).call(this)},h=new WeakSet,d=function(t){let{options:{zoomRatio:e,wheelReleaseOnMinMax:s,disableWheelingClass:i}}=this,a=(t.deltaY||t.detail)>0?-1:1;if(s){let e=this.isOnMinScale(),s=this.isOnMaxScale();e&&-1===a||s&&1===a||t.preventDefault()}else t.preventDefault();this.states.wheeling||P(t.target,i)||(this.states.wheeling=!0,setTimeout(()=>{this.states.wheeling=!1},30),this.zoom(a*e,F(t)),this.emit("wheel",this,this.transform.scale,t))},c=new WeakSet,m=function(t){let{data:e,transform:s,options:{disableDraggingClass:i}}=this,{dragData:a,imageData:n}=e;if(!a||!n)return;let l=t=>{if(t.touches||!this.states.dragging)return;t.preventDefault();let e=F(t).clientX,i=F(t).clientY,n=e-a.startX+s.translateX,l=i-a.startY+s.translateY;this.moveTo({x:n,y:l}),U(a,{startX:F(t).clientX,startY:F(t).clientY}),this.emit("drag",this,{x:n,y:l},t)},r=t=>{t.touches||(this.states.dragging=!1,this.emit("dragEnd",this,{x:s.translateX,y:s.translateY},t),document.removeEventListener(tz,l),document.removeEventListener(tN,r))};(t=>{t&&0!==t.button||(t.preventDefault(),P(t.target,i)||(U(a,{startX:F(t).clientX,startY:F(t).clientY}),this.states.dragging=!0,this.emit("dragStart",this,{x:s.translateX,y:s.translateY},t),document.addEventListener(tz,l),document.addEventListener(tN,r)))})(t)},u=new WeakSet,g=function(t){let{data:e,transform:s,options:{maxScale:i,minScale:a,draggable:n,pinchable:l,bounds:r,dragReleaseOnBounds:o,disableDraggingClass:h}}=this,{touchData:d,imageData:c}=e;if(!d||!c)return;let m=t=>{let e=t.touches;if(!e)return;let{states:{dragging:n,pinching:r}}=this,{top:o,left:h}=A(this.image),{width:c,height:m}=this.getImageDiff(),u=q(e),g=u?u/d.hypot:1,f=this.useFixedRatio(g*s.scale),p=V(e).clientX+d.prevX,b=V(e).clientY+d.prevY;if(r&&2===e.length&&this.zoomTo(f,!1),n){let t=f!==i&&f!==a&&l?g:1,e=K(p-d.imageLeft-(c-d.widthDiff)-(d.startX-d.imageLeft)*t+s.translateX),n=K(b-d.imageTop-(m-d.heightDiff)-(d.startY-d.imageTop)*t+s.translateY);this.moveTo({x:e,y:n})}U(d,{hypot:u,startX:p,startY:b,imageTop:o,imageLeft:h,widthDiff:c,heightDiff:m}),r&&2===e.length&&this.emit("pinch",this,s.scale,t),n&&this.emit("drag",this,{x:s.translateX,y:s.translateY},t)},u=t=>{let e=t.touches;if(!e)return;let{states:{dragging:i,pinching:a}}=this;if(i&&!e.length&&(this.states.dragging=!1,this.emit("dragEnd",this,{x:s.translateX,y:s.translateY},t)),a&&e.length<2&&(this.states.pinching=!1,this.emit("pinchEnd",this,s.scale,t)),i&&1===e.length){let e=F(t).clientX,s=F(t).clientY;U(d,{prevX:d.startX-e,prevY:d.startY-s})}e.length||(document.removeEventListener("touchmove",m),document.removeEventListener("touchend",u))};(t=>{let e=t.touches;if(!e)return;if(r&&o){let s=this.isOnBoundX(),i=this.isOnBoundY(),a=1===e.length&&(s||i);console.log(a),a||t.preventDefault()}else t.preventDefault();if(P(t.target,h)&&e.length<=1)return;let{top:i,left:a}=A(this.image),{width:c,height:g}=this.getImageDiff();U(d,{hypot:q(e),startX:V(e).clientX,startY:V(e).clientY,prevX:0,prevY:0,imageTop:i,imageLeft:a,widthDiff:c,heightDiff:g}),n&&(this.states.dragging=!0,this.emit("dragStart",this,{x:s.translateX,y:s.translateY},t)),l&&2===e.length&&(this.states.pinching=!0,this.emit("pinchStart",this,s.scale,t)),document.addEventListener("touchmove",m),document.addEventListener("touchend",u)})(t)},f=new WeakSet,p=function(){let{element:t,image:e,transform:s}=this;new ResizeObserver(()=>{let{offsetWidth:i,offsetHeight:a}=t,{width:n,height:l}=this.getContainerData();if(i===n&&a===l)return;let r=s.translateX,o=s.translateY;if(r){let t=i/n*r;this.transform.translateX=t}if(o){let t=a/l*o;this.transform.translateY=t}let{offsetWidth:h,offsetHeight:d}=e,{width:c,height:m}=A(e);U(this.data.containerData,{width:i,height:a}),U(this.data.imageData,{originWidth:h,originHeight:d,width:c,height:m}),this.emit("resize",this)}).observe(t)},b=new WeakSet,v=function(){let{slider:t,zoomer:e}=this.__modules__;t&&I(this,w,_).call(this),e&&I(this,E,S).call(this)},w=new WeakSet,_=function(){let{element:t,__modules__:{slider:e}}=this;if(!e||e.mounted)return;let{options:{el:s,direction:i}}=e,a=s===`.${to}`;if(!s||!a&&!M(s))return;let n=a?te("div",to):H(s),l=te("div",th),r=te("span",td),o=te("span",tc,{...tw,"aria-orientation":i});n.classList.add(`${to}-${i}`),tP(e,"value",{get:()=>e.__value__,set(t){e.__value__!==t&&(e.__value__=t,J(n,{"--value":t.toString()}),Z(o,{"aria-valuenow":t.toString()}))}}),U(e,{value:100*this.getScaleRatio(),controller:new AbortController,sliding:!1,sliderEl:n,sliderTrack:l,sliderButton:o}),I(this,x,y).call(this),l.append(r,o),n.append(l),a&&t.append(n),e.mounted=!0},x=new WeakSet,y=function(){let{options:{minScale:t,maxScale:e},__modules__:{slider:s}}=this;if(!s)return;let{options:{direction:i},controller:a,sliderEl:n,sliderTrack:l}=s;if(!n||!l)return;let r="vertical"===i,o=s=>{let i=A(l),a=i[r?"height":"width"],n=i[r?"bottom":"left"];return(e-t)*K(G((F(s)[r?"clientY":"clientX"]-n)*(r?-1:1)/a,0,1))+t},h=t=>{if(!s.sliding)return;let e=o(t);this.zoomTo(e),this.emit("slide",this,this.getSliderValue(),t)},d=t=>{this.emit("slideEnd",this,this.getSliderValue(),t),s.sliding=!1,document.removeEventListener(tz,h),document.removeEventListener(tN,d)};n.addEventListener(tj,t=>{if(t instanceof MouseEvent&&0!==t.button)return;s.sliding=!0;let e=o(t);this.zoomTo(e),this.emit("slideStart",this,this.getSliderValue(),t),document.addEventListener(tz,h),document.addEventListener(tN,d)},{signal:null==a?void 0:a.signal})},E=new WeakSet,S=function(){let{element:t,__modules__:{zoomer:e}}=this;if(!e||e.mounted)return;let{options:{el:s,inEl:i,outEl:a,resetEl:n}}=e,l=[i,a,n],r=(t,e,s,i,a)=>{let n=t===`.${s}`;return t&&(n||M(t))?(s=l.includes(t)?`${s} ${tu}`:s,n?te(e,s,i,a):H(t)):null},o=r(s,"div",tm),h=r(i,"button",tf,tx,tW),d=r(a,"button",tp,ty,tB),c=r(n,"button",tb,tE,tH);U(e,{controller:new AbortController,zoomerEl:o,zoomerInEl:h,zoomerOutEl:d,zoomerResetEl:c}),o&&(h&&o.append(h),d&&o.append(d),c&&o.append(c),s===`.${tm}`&&t.append(o)),I(this,j,z).call(this),e.mounted=!0},j=new WeakSet,z=function(){let{options:{zoomRatio:t},__modules__:{zoomer:e}}=this,s=this;if(!e)return;let{controller:i,zoomerInEl:a,zoomerOutEl:n,zoomerResetEl:l}=e;a&&a.addEventListener("click",()=>{s.zoom(t)},{signal:null==i?void 0:i.signal}),n&&n.addEventListener("click",()=>{s.zoom(-t)},{signal:null==i?void 0:i.signal}),l&&l.addEventListener("click",()=>{s.reset()},{signal:null==i?void 0:i.signal})},Object.assign(tF.prototype,{on(t,e){if(!e||!R(e))return this;let{__events__:s}=this;return t.split(" ").forEach(t=>{s[t]||(s[t]=[]),s[t].push(e)}),this},emit(t,...e){let{__events__:s}=this;return s[t]&&s[t].forEach(t=>{R(t)&&t.apply(this,e)}),this},zoom(t,e){let{scale:s}=this.transform,i=this.useFixedRatio(K(s*(t+1)));return s===i||this.zoomTo(i,e),this},zoomTo(t,e=!0){let{image:s,transform:{scale:i,translateX:a,translateY:n},options:{bounds:l}}=this;if((t=this.useFixedRatio(t))===i)return this;if(this.transform.scale=t,!e)return this.emit("zoom",this,this.transform.scale),this;let{clientX:r,clientY:o}=e="boolean"==typeof e?this.getContainerCenterClient():e,{top:h,left:d,width:c,height:m}=A(s),{width:u,height:g}=this.getImageDiff(),f=t/i-1,p=(c/2-r+d)*f+a,b=(m/2-o+h)*f+n,v=l?G(p,u,-u):p,w=l?G(b,g,-g):b;return U(this.transform,{translateX:v,translateY:w}),this.emit("zoom",this,this.transform.scale),this},move(t){let{options:{bounds:e},transform:{translateX:s,translateY:i}}=this,{x:a,y:n}=t,{width:l,height:r}=this.getImageDiff();if(W(a)){let t=s+a,i=e?G(t,l,-l):t;this.transform.translateX=i}if(W(n)){let t=i+n,s=e?G(t,r,-r):t;this.transform.translateY=s}return this},moveTo(t){let{options:{bounds:e}}=this,{x:s,y:i}=t,{width:a,height:n}=this.getImageDiff();if(W(s)){let t=Number(s),i=e?G(t,a,-a):t;this.transform.translateX=i}if(tY.some(t=>t===s)){let t={left:-a,right:a,center:0}[s];this.transform.translateX=t}if(W(i)){let t=Number(i),s=e?G(t,n,-n):t;this.transform.translateY=s}if(tX.some(t=>t===i)){let t={top:-n,bottom:n,center:0}[i];this.transform.translateY=t}return this},slideTo(t){let{options:{minScale:e,maxScale:s}}=this;return this.zoomTo((s-e)*t/100+e),this},reset(){let{options:{initScale:t}}=this;return U(this.transform,{scale:t,translateX:0,translateY:0}),this.emit("reset",this),this},destroy(t=!1){let{element:e,image:s,controller:i}=this;return this.mounted&&(this.emit("beforeDestroy",this),i.abort(),this.destroyModules(),t&&s&&(this.reset(),s.removeAttribute("style")),e[ts]=null,this.mounted=!1,this.emit("destroy",this)),null},update(t){let{element:e,controller:s}=this;return this.emit("beforeUpdate",this),e[ts]=null,this.mounted=!1,s.abort(),this.destroyModules(),t&&(this.options=Object.assign({},tO,T(t)&&t)),this.init(),this.emit("update",this),this},getImageData(){return{...this.data.imageData}},getContainerData(){return{...this.data.containerData}},getSliderValue(){let{__modules__:{slider:t}}=this;return t&&void 0!==t.value?t.value:null},isOnBoundTop(){let{options:{bounds:t}}=this;if(!t)return!1;let{transform:{translateY:e}}=this,{height:s}=this.getImageDiff();return -1*e===K(s)},isOnBoundBottom(){let{options:{bounds:t}}=this;if(!t)return!1;let{transform:{translateY:e}}=this,{height:s}=this.getImageDiff();return e===K(s)},isOnBoundLeft(){let{options:{bounds:t}}=this;if(!t)return!1;let{transform:{translateX:e}}=this,{width:s}=this.getImageDiff();return -1*e===K(s)},isOnBoundRight(){let{options:{bounds:t}}=this;if(!t)return!1;let{transform:{translateX:e}}=this,{width:s}=this.getImageDiff();return e===K(s)},isOnBoundX(){let{options:{bounds:t}}=this;if(!t)return!1;let{transform:{translateX:e}}=this,{width:s}=this.getImageDiff();return Math.abs(e)===Math.abs(K(s))},isOnBoundY(){let{options:{bounds:t}}=this;if(!t)return!1;let{transform:{translateY:e}}=this,{height:s}=this.getImageDiff();return Math.abs(e)===Math.abs(K(s))},isOnMinScale(){let{options:{minScale:t}}=this,{transform:{scale:e}}=this;return e===t},isOnMaxScale(){let{options:{maxScale:t}}=this,{transform:{scale:e}}=this;return e===t},getImageDiff(){let{width:t,height:e}=this.getContainerData(),{width:s,height:i}=this.getImageData();return{width:(t-s)/2,height:(e-i)/2}},getContainerCenterClient(){let{element:t}=this,{top:e,left:s,width:i,height:a}=A(t);return{clientX:s+i/2,clientY:e+a/2}},getScaleRatio(){let{transform:{scale:t},options:{minScale:e,maxScale:s}}=this;return(t-e)/(s-e)},useFixedRatio(t){let{options:{minScale:e,maxScale:s}}=this;return G(t,e,s)}});let tV=()=>(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-2",children:[(0,N.jsx)("div",{className:"w-full aspect-[14/20] bg-gray-200 animate-pulse rounded"}),(0,N.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,N.jsx)("p",{className:"font-medium text-lg bg-gray-50 animate-pulse h-8 w-40 rounded"}),(0,N.jsxs)("div",{className:" flex gap-2 items-center justify-end",children:[(0,N.jsx)("button",{className:"btn btn-outline btn-sm",children:(0,N.jsx)("i",{className:"bi bi-chevron-left"})}),(0,N.jsx)("button",{className:"btn btn-outline btn-sm",children:(0,N.jsx)("i",{className:"bi bi-chevron-right"})})]})]}),(0,N.jsx)("ul",{className:"flex gap-1 w-full overflow-auto",children:[...Array(10).keys()].map(t=>(0,N.jsx)("li",{className:"rounded flex-shrink-0 w-20 aspect-[14/20] object-cover select-none bg-gray-50 animate-pulse",id:"page-".concat(t)},t))})]}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)("h2",{className:"font-medium text-lg bg-gray-50 animate-pulse h-8 w-52 rounded mb-2"}),(0,N.jsx)("p",{className:"font-medium text-lg bg-gray-50 animate-pulse h-8 w-36 rounded"}),(0,N.jsx)("div",{className:"mt-4 bg-gray-50 animate-pulse h-5 w-full rounded"}),(0,N.jsx)("div",{className:"mt-2 bg-gray-50 animate-pulse h-5 w-full rounded"}),(0,N.jsx)("div",{className:"mt-2 bg-gray-50 animate-pulse h-5 w-full rounded"}),(0,N.jsx)("div",{className:"mt-2 bg-gray-50 animate-pulse h-5 w-3/4 rounded"})]})]})]}),tA=t=>{let[e,s]=(0,Y.useState)(null),[i,a]=(0,Y.useState)(!0),[n,l]=(0,Y.useState)(null);return(0,Y.useEffect)(()=>{(async()=>{try{let e=await fetch(t);if(!e.ok)throw Error("Network response was not ok");let i=await e.json();s(i)}catch(t){l(t)}finally{a(!1)}})()},[t]),{data:e,loading:i,error:n}};var tq=s(4721);let tJ=t=>{let{width:e,height:s,bookSlug:i,page:a}=t,n="".concat("https://bukuesto-backend.vercel.app/read-online","/book/").concat(i,"/").concat(a);return(0,N.jsx)("img",{src:n,style:{width:e,height:s,objectFit:"cover"},onContextMenu:t=>t.preventDefault()})},tZ=t=>{let{book:e,totalPage:s,currentPage:i,setPage:a}=t,n=Y.createRef();return s?((0,Y.useEffect)(()=>{let t=document.getElementById("page-".concat(i));t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[i]),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,N.jsx)("p",{className:"font-medium text-lg",children:"Daftar Halaman"}),(0,N.jsxs)("div",{className:" flex gap-2 items-center justify-end",children:[(0,N.jsx)("button",{onClick:()=>{i>0?a(i-1):a(i)},className:"btn btn-outline btn-sm",children:(0,N.jsx)("i",{className:"bi bi-chevron-left"})}),(0,N.jsx)("button",{onClick:()=>{i<s?a(i+1):a(i)},className:"btn btn-outline btn-sm",children:(0,N.jsx)("i",{className:"bi bi-chevron-right"})})]})]}),(0,N.jsx)("ul",{className:"flex gap-1 w-full overflow-auto",ref:n,children:[...Array(s).keys()].map(t=>(0,N.jsx)("li",{className:"flex-shrink-0 w-20 aspect-[14/20] object-cover select-none",id:"page-".concat(t),children:(0,N.jsxs)("button",{onClick:()=>a(t),className:"relative",children:[(0,N.jsx)("img",{src:"".concat("https://bukuesto-backend.vercel.app/read-online","/book/").concat(e.slug,"/").concat(t),alt:"Buku ".concat(e.title," - Halaman ").concat(t),loading:"lazy",className:"flex-shrink-0 w-20 aspect-[14/20] object-cover"}),(0,N.jsx)("div",{className:"absolute inset-0 flex items-center justify-center hover:bg-primary/50 focus:bg-primary/50 duration-100 ".concat(t===i?"bg-primary/50":""),children:(0,N.jsx)("span",{className:"".concat(i===t?"bg-primary":"bg-neutral/30"," text-white rounded-full w-6 h-6 flex items-center justify-center"),children:t+1})})]})},t))})]})):(0,N.jsx)("div",{children:"Loading..."})},tU=t=>{let{book:e}=t,[s,i]=(0,tq.M)("last_page_".concat(e.slug),0),{data:a,loading:n}=tA("".concat("https://bukuesto-backend.vercel.app/read-online","/total-page/").concat(e.slug)),l=X(),[r,o]=(0,Y.useState)(0),[h,d]=(0,Y.useState)(0),c=s<0?0:s;return((0,Y.useEffect)(()=>{var t;let e=(null===(t=document.getElementById("page-header"))||void 0===t?void 0:t.offsetHeight)||0,s=window.innerHeight,i=window.innerWidth-50;l?(d(i),o(20*i/14)):(o(s-e-24-24-24),d((s-e-24-24-24)*.7)),a&&!n&&new tF(".zoomist-container",{maxScale:4,bounds:!0,slider:!0,zoomer:!0})},[a,l]),null==a?void 0:a.data.totalPage)?(0,N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-40",children:[(0,N.jsx)("div",{className:"zoomist-container",style:{objectFit:"contain",width:h,height:r},children:(0,N.jsx)("div",{className:"zoomist-wrapper",children:(0,N.jsx)("div",{className:"zoomist-image",children:(0,N.jsx)(tJ,{width:h,height:r,bookSlug:e.slug,page:c})})})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(tZ,{setPage:t=>{i(t)},book:e,totalPage:a.data.totalPage,currentPage:c}),(0,N.jsxs)("div",{className:"mt-4",children:[(0,N.jsxs)("article",{className:"prose",children:[(0,N.jsx)("h2",{className:"",children:e.title}),(0,N.jsxs)("h2",{className:"text-sm text-gray-600",children:[e.published_year," ",e.publisher," | ",(0,D.h)(e.price)]}),(0,N.jsx)("div",{className:"mt-4",children:(0,D.y)(e.description)})]}),(0,N.jsx)("a",{href:"/detail/".concat(e.slug),className:"btn btn-sm btn-primary",children:"Detail Buku"})]})]})]}):(0,N.jsx)(tV,{})}},4721:(t,e,s)=>{"use strict";s.d(e,{M:()=>a});var i=s(2115);function a(t,e){let[s,a]=(0,i.useState)(()=>{try{let s=window.localStorage.getItem(t);return s?JSON.parse(s):e}catch(s){return console.warn('Error reading localStorage key "'.concat(t,'":'),s),e}}),n=(0,i.useCallback)(e=>{try{let i=e instanceof Function?e(s):e;a(i),window.localStorage.setItem(t,JSON.stringify(i))}catch(e){console.warn('Error setting localStorage key "'.concat(t,'":'),e)}},[t,s]);return(0,i.useEffect)(()=>{function e(e){e.key===t&&e.newValue&&a(JSON.parse(e.newValue))}return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[t]),[s,n]}},1160:(t,e,s)=>{"use strict";s.d(e,{h:()=>n,y:()=>a});var i=s(5155);let a=t=>t.split("\n").map((t,e)=>(0,i.jsx)("p",{children:t},e)),n=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t)}},t=>{var e=e=>t(t.s=e);t.O(0,[441,517,358],()=>e(5710)),_N_E=t.O()}]);